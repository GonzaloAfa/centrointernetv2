{% extends "problem/problem.html" %}sss

{% block context %}

	<h1>Problema del usuario: {{problem.client|capfirst}} </h1>

	<h4>Detalles del problema #{{problem.id}}</h4>
	<hr>
    
    <dl class="dl-horizontal">
    	<dt>Tipo de problema</dt>
		<dd>{{problem.problem_type}}</dd>

		<dt>Estado</dt>
		<dd>
			{% if problem.status == "Solucionado" %}
				<span class="label label-success">{{problem.status}}</span></dd>
			
			{% elif problem.status == "Moroso"  %}
				<span class="label label-warning">{{problem.status}}</span></dd>
			
			{% elif problem.status == "Cortado" %}
				<span class="label label-danger">{{problem.status}}</span></dd>
			
			{% elif problem.status == "Nulidad" %}
				<span class="label label-default">{{problem.status}}</span></dd>
			{% endif %}

        <dt>Fecha ingreso</dt>
        <dd>{{problem.datetime}}</dd>
		
		<dt>Detalles</dt>
		<dd>{{problem.comment}}</dd>        
	</dl>        
	<hr>
	<h4>Detalles de la conexión</h4>
    <dl class="dl-horizontal">

        <dt>Servicio</dt>
        <dd>{{client.service}}</dd>

        <dt>Red de conexión</dt>
		<dd>{{client.network_connection}}</dd>
	</dl>
	<hr>
	<h4>Detalles del cliente</h4>
    <dl class="dl-horizontal">

        <dt>Nombre</dt>
        <dd>{{client.first_name}} {{client.last_name}}</dd>

        <dt>Teléfono</dt>
		<dd>{{client.phone}}</dd>

        <dt>E-mail</dt>
		<dd>{{client.email}}</dd>

	</dl>

    <hr>
		<div class="panel panel-primary">
            <div class="panel-heading">
              <h3 class="panel-title">Problemas registrados anteriormente</h3>
            </div>
            <div class="panel-body">
            	<table class="table table-striped">
					<thead>
			          <tr>
			          	<th>ID</th>
			            <th>Fecha</th>
			            <th>Tipo problema</th>
			          	<th>Estado</th>
			          </tr>
			        </thead>
			        <tbody>			          
					{% for element in list_problem %}
					<tr>
						<td>{{element.id}}</td>
						<td>{{element.datetime|date:'SHORT_DATE_FORMAT'}}</td>
						<td>{{element.problem_type}}</td>
						<td>{{element.status}}</td>
					</tr>
					{% endfor %}
					
					</tbody>
            	</table>
            </div>
          </div>
    	

{% endblock %}  
